const peliculasSimilares = [
  {
    titulo: "Bala perdida 3",
    genero: "Crimen / Drama",
    duracion: "100 min",
    actores: [
      {
        nombre: "Juan Minujín",
        wiki: "https://es.wikipedia.org/wiki/Juan_Minuj%C3%ADn"
      },
      {
        nombre: "Nicolás Furtado",
        wiki: "https://es.wikipedia.org/wiki/Nicol%C3%A1s_Furtado"
      },
      {
        nombre: "Claudio Rissi",
        wiki: "https://es.wikipedia.org/wiki/Claudio_Rissi"
      },
      {
        nombre: "Gerardo Romano",
        wiki: "https://es.wikipedia.org/wiki/Gerardo_Romano_(actor)"
      },
    ],
    descripcion: "Un expolicía se infiltra en una cárcel peligrosa para investigar un secuestro, enfrentando un entorno brutal.",
    imagen: "../assets/img/bala_perdida_3.jpg",
    video: "https://www.youtube.com/embed/mN7xQF3hO1M",
    youtube: "https://www.youtube.com/watch?v=mN7xQF3hO1M&t=2s&pp=2AECkAIB"
  },
  {
    titulo: "Contraataque",
    genero: "Acción / Suspenso",
    duracion: "120 min",
    actores: [
      {
        nombre: "Juan Minujín",
        wiki: "https://es.wikipedia.org/wiki/Juan_Minuj%C3%ADn"
      },
      {
        nombre: "Nicolás Furtado",
        wiki: "https://es.wikipedia.org/wiki/Nicol%C3%A1s_Furtado"
      },
      {
        nombre: "Claudio Rissi",
        wiki: "https://es.wikipedia.org/wiki/Claudio_Rissi"
      },
      {
        nombre: "Gerardo Romano",
        wiki: "https://es.wikipedia.org/wiki/Gerardo_Romano_(actor)"
      },
    ],
    actores2: "Álvaro Morte, Úrsula Corberó, Pedro Alonso, Itziar Ituño",
    descripcion: "Un grupo de criminales ejecuta el mayor atraco de la historia bajo las órdenes del misterioso Profesor.",
    imagen: "../assets/img/contraataque.jpg",
    video: "https://www.youtube.com/embed/3y-6iaveY6c",
    youtube: "https://www.youtube.com/watch?v=3y-6iaveY6c&t=2s&pp=2AECkAIB"
  },
  {
    titulo: "De vuelta a la accion",
    genero: "Drama / Juvenil",
    duracion: "90 min",
    actores: [
      {
        nombre: "Juan Minujín",
        wiki: "https://es.wikipedia.org/wiki/Juan_Minuj%C3%ADn"
      },
      {
        nombre: "Nicolás Furtado",
        wiki: "https://es.wikipedia.org/wiki/Nicol%C3%A1s_Furtado"
      },
      {
        nombre: "Claudio Rissi",
        wiki: "https://es.wikipedia.org/wiki/Claudio_Rissi"
      },
      {
        nombre: "Gerardo Romano",
        wiki: "https://es.wikipedia.org/wiki/Gerardo_Romano_(actor)"
      },
    ],
    actores2: "Sofía Ramírez, Lucas Díaz, Camila Ortega",
    descripcion: "Un grupo de adolescentes atraviesa los desafíos del colegio, las relaciones y la búsqueda de identidad en una ciudad moderna.",
    imagen: "../assets/img/de_vuelta_a_la_accion.jpg",
    video: "https://www.youtube.com/embed/QFxl7FFv6lM",
    youtube: "https://www.youtube.com/watch?v=QFxl7FFv6lM&t=2s&pp=2AECkAIB"
  },
  {
    titulo: "Gt Max",
    genero: "Drama / Romance",
    duracion: "119 min",
    actores: [
      {
        nombre: "Juan Minujín",
        wiki: "https://es.wikipedia.org/wiki/Juan_Minuj%C3%ADn"
      },
      {
        nombre: "Nicolás Furtado",
        wiki: "https://es.wikipedia.org/wiki/Nicol%C3%A1s_Furtado"
      },
      {
        nombre: "Claudio Rissi",
        wiki: "https://es.wikipedia.org/wiki/Claudio_Rissi"
      },
      {
        nombre: "Gerardo Romano",
        wiki: "https://es.wikipedia.org/wiki/Gerardo_Romano_(actor)"
      },
    ],
    actores2: "William Levy, Laura Londoño, Carmen Villalobos",
    descripcion: "La historia de amor entre Gaviota, una recolectora de café, y Sebastián, un joven de familia cafetera, llena de obstáculos y pasiones.",
    imagen: "../assets/img/gt_max_p.jpg",
    video: "https://www.youtube.com/embed/ufs8NhLBuCk",
    youtube: "https://www.youtube.com/watch?v=ufs8NhLBuCk&t=2s&pp=2AECkAIB"
  },
  {
    titulo: "Sindicato",
    genero: "Acción / Drama / Romance",
    duracion: "134 min",
    actores: [
      {
        nombre: "Juan Minujín",
        wiki: "https://es.wikipedia.org/wiki/Juan_Minuj%C3%ADn"
      },
      {
        nombre: "Nicolás Furtado",
        wiki: "https://es.wikipedia.org/wiki/Nicol%C3%A1s_Furtado"
      },
      {
        nombre: "Claudio Rissi",
        wiki: "https://es.wikipedia.org/wiki/Claudio_Rissi"
      },
      {
        nombre: "Gerardo Romano",
        wiki: "https://es.wikipedia.org/wiki/Gerardo_Romano_(actor)"
      },
    ],
    actores2: "Bárbara de Regil, José María de Tavira, Antonio Gaona",
    descripcion: "Rosario, una joven de barrio humilde, se convierte en una mujer peligrosa en busca de justicia mientras lucha entre el amor y la venganza.",
    imagen: "../assets/img/sindicato_p.jpg",
    video: "https://www.youtube.com/embed/otZeqKDOXrg",
    youtube: "https://www.youtube.com/watch?v=otZeqKDOXrg&t=2s&pp=2AECkAIB"
  },
  {
    titulo: "Estragos",
    genero: "Acción / Drama / Romance",
    duracion: "200 min",
    actores: [
      {
        nombre: "Juan Minujín",
        wiki: "https://es.wikipedia.org/wiki/Juan_Minuj%C3%ADn"
      },
      {
        nombre: "Nicolás Furtado",
        wiki: "https://es.wikipedia.org/wiki/Nicol%C3%A1s_Furtado"
      },
      {
        nombre: "Claudio Rissi",
        wiki: "https://es.wikipedia.org/wiki/Claudio_Rissi"
      },
      {
        nombre: "Gerardo Romano",
        wiki: "https://es.wikipedia.org/wiki/Gerardo_Romano_(actor)"
      },
    ],
    actores2: "Bárbara de Regil, José María de Tavira, Antonio Gaona",
    descripcion: "Rosario, una joven de barrio humilde, se convierte en una mujer peligrosa en busca de justicia mientras lucha entre el amor y la venganza.",
    imagen: "../assets/img/estragos.jpg",
    video: "https://www.youtube.com/embed/otZeqKDOXrg",
    youtube: "https://www.youtube.com/watch?v=otZeqKDOXrg&t=2s&pp=2AECkAIB"
  }
];


function addDefault(peliculaDefault) {
  document.getElementById('titulo').textContent = peliculaDefault.titulo;
  document.getElementById('genero').textContent = peliculaDefault.genero;
  document.getElementById('actores').textContent = peliculaDefault.actores;
  document.getElementById('duracion').textContent = peliculaDefault.duracion;
  document.getElementById('descripcion').textContent = peliculaDefault.descripcion;
  document.getElementById("trailer").src = peliculaDefault.video;
  document.getElementById('comenzar').href = peliculaDefault.youtube;
}

function addImage(peliculaDefault) {
  const carrusel = document.getElementById("similaresCarrusel");
  carrusel.innerHTML = ''; // Limpiar contenido anterior

  peliculasSimilares
    .filter(pelicula => pelicula.titulo !== peliculaDefault.titulo)
      .forEach(pelicula => {
        const img = document.createElement("img");
        img.src = pelicula.imagen;
        img.alt = pelicula.titulo;
        img.classList.add("imagenes");
        carrusel.appendChild(img);
    });
}

function addActors(peliculaDefault) {
     const actoresContainer = document.getElementById("actores");
  actoresContainer.innerHTML = ""; // limpio contenido previo

  peliculaDefault.actores.forEach((actor, index) => {
    const a = document.createElement("a");
    a.href = actor.wiki;
    a.target = "_blank";
    a.textContent = actor.nombre;
    actoresContainer.appendChild(a);

    // Agrego coma y espacio excepto después del último actor
    if (index < peliculaDefault.actores.length - 1) {
      actoresContainer.appendChild(document.createTextNode(", "));
    }
  });

}

function addVideo(video) {
     const btn = document.getElementById('comenzar');
        btn.onclick = () => {
          window.open(video, '_blank'); // Abre en nueva pestaña
      };
}

let pelicula = null;

function carruselMove() {
 const carrusel = document.getElementById("similaresCarrusel");
  const prev = document.querySelector(".carrusel-btn.prev");
  const next = document.querySelector(".carrusel-btn.next");
  const img = carrusel.querySelector(".imagenes");
  const scroll = img ? img.offsetWidth + 10 : 0; //img.offsetWidth tamanio de un imagen
  prev.addEventListener("click", () => {
    carrusel.scrollBy({ left: -scroll, behavior: "smooth" });
  });

  next.addEventListener("click", () => {
    carrusel.scrollBy({ left: scroll, behavior: "smooth" }); //  behavior: "smooth" la navegacion sea suave, con efecto
  });

  const imagenes = document.querySelectorAll(".imagenes");
  imagenes.forEach((img) => {
    img.addEventListener("click", () => {
      pelicula = peliculasSimilares.find(imagen => imagen.titulo == img.alt);
        addDefault(pelicula);
        addActors(pelicula);
        addVideo(pelicula.video);

    });
  });

}


document.addEventListener("DOMContentLoaded", () => {
  pelicula = peliculasSimilares[0];
  addDefault(pelicula)
  addVideo(pelicula.video);
  addImage(pelicula)
  addActors(pelicula);
  carruselMove();
});
