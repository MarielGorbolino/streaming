const peliculasSimilares = [
  {
    titulo: "Bala perdida 3",
    genero: "Crimen / Drama",
    duracion: "100 min",
    actores: [
      {
        nombre: "Alban Lenoir",
        wiki: "https://en-m-wikipedia-org.translate.goog/wiki/Alban_Lenoir?_x_tr_sl=en&_x_tr_tl=es&_x_tr_hl=es&_x_tr_pto=tc"
      },
      {
        nombre: "Stéfi Celma",
        wiki: "https://en-m-wikipedia-org.translate.goog/wiki/Stéfi_Celma?_x_tr_sl=en&_x_tr_tl=es&_x_tr_hl=es&_x_tr_pto=tc"
      },
      {
        nombre: "Nicolas Duvauchelle",
        wiki: "https://es.wikipedia.org/wiki/Nicolas_Duvauchelle"
      },
      {
        nombre: "Rod Paradot",
        wiki: "https://es.wikipedia.org/wiki/Rod_Paradot"
      },
    ],
    descripcion: "El mecánico Lino es un apasionado de los autos de combate, pero cuando se enfrenta a policías corruptos, éstos le ofrecen un trato que no puede rechazar.",
    imagen: "../assets/img/bala_perdida_3.jpg",
    video: "https://www.youtube.com/embed/RiYlMuK_RQA",
    youtube: "https://www.youtube.com/watch?v=RiYlMuK_RQA"
  },
  {
    titulo: "Contraataque",
    genero: "Acción / Suspenso",
    duracion: "120 min",
    actores: [
      {
        nombre: "Luis Curiel",
        wiki: "https://doblaje.fandom.com/es/wiki/Luis_Curiel"
      },
      {
        nombre: "Luis Alberti",
        wiki: "https://es.wikipedia.org/wiki/Luis_Alberti_(actor)"
      },
      {
        nombre: "Ishbel Bautista",
        wiki: "https://es.wikipedia.org/wiki/Ishbel_Bautista"
      },
      {
        nombre: "Mayra Batalla",
        wiki: "https://es.wikipedia.org/wiki/Mayra_Batalla"
      },
    ],
    actores2: "Álvaro Morte, Úrsula Corberó, Pedro Alonso, Itziar Ituño",
    descripcion: "Un escuadrón de élite cae en una emboscada a manos de un enemigo implacable y se ve obligado a defenderse con sus dos únicas armas: el ingenio y un fuerte espíritu de camaradería.",
    imagen: "../assets/img/contraataque.jpg",
    video: "https://www.youtube.com/embed/n3YkEva36gs",
    youtube: "https://www.youtube.com/watch?v=n3YkEva36gs"
  },
  {
    titulo: "De vuelta a la accion",
    genero: "Drama / Juvenil",
    duracion: "90 min",
    actores: [
      {
        nombre: "Cameron Diaz",
        wiki: "https://es.wikipedia.org/wiki/Cameron_Diaz"
      },
      {
        nombre: "Jamie Foxx",
        wiki: "https://es.wikipedia.org/wiki/Jamie_Foxx"
      },
      {
        nombre: "Glenn Close",
        wiki: "https://es.wikipedia.org/wiki/Glenn_Close"
      },
      {
        nombre: "Leela Owen",
        wiki: "https://www.imdb.com/es/name/nm10235676/"
      },
    ],
    actores2: "Sofía Ramírez, Lucas Díaz, Camila Ortega",
    descripcion: "Los exagentes de la CIA, Emily y Matt, se ven arrastrados de nuevo al espionaje tras la publicación de sus identidades secretas.",
    imagen: "../assets/img/de_vuelta_a_la_accion.jpg",
    video: "https://www.youtube.com/embed/2_CLtBIWdkM",
    youtube: "https://www.youtube.com/watch?v=2_CLtBIWdkM"
  },
  {
    titulo: "Gt Max",
    genero: "Drama / Romance",
    duracion: "119 min",
    actores: [
      {
        nombre: "Ava Baya",
        wiki: "https://www.filmaffinity.com/es/name.php?name-id=911657410"
      },
      {
        nombre: "Just Riadh",
        wiki: "https://simple-m-wikipedia-org.translate.goog/wiki/Just_Riadh?_x_tr_sl=en&_x_tr_tl=es&_x_tr_hl=es&_x_tr_pto=tc"
      },
      {
        nombre: "Jalil Lespert",
        wiki: "https://en-m-wikipedia-org.translate.goog/wiki/Jalil_Lespert?_x_tr_sl=en&_x_tr_tl=es&_x_tr_hl=es&_x_tr_pto=tc"
      },
      {
        nombre: "Jérémie Laheurte",
        wiki: "https://www.imdb.com/es/name/nm5398167/"
      },
    ],
    actores2: "William Levy, Laura Londoño, Carmen Villalobos",
    descripcion: "Una infame pandilla de ladrones motociclistas recluta al hermano de una excampeona de motocross para un robo, por lo que ahora ella debe enfrentar sus mayores miedos para protegerlo de las calles de París.",
    imagen: "../assets/img/gt_max_p.jpg",
    video: "https://www.youtube.com/embed/Zs0uKHrVRws",
    youtube: "https://www.youtube.com/watch?v=Zs0uKHrVRws"
  },
  {
    titulo: "Sindicato",
    genero: "Acción / Drama / Romance",
    duracion: "134 min",
    actores: [
      {
        nombre: "Halle Berry",
        wiki: "https://es.wikipedia.org/wiki/Halle_Berry"
      },
      {
        nombre: "Mark Wahlberg",
        wiki: "https://es.wikipedia.org/wiki/Mark_Wahlberg"
      },
      {
        nombre: "Dana Delany",
        wiki: "https://es.wikipedia.org/wiki/Dana_Delany"
      },
      {
        nombre: "Jessica De Gouw",
        wiki: "https://es.wikipedia.org/wiki/Jessica_De_Gouw"
      },
    ],
    actores2: "Bárbara de Regil, José María de Tavira, Antonio Gaona",
    descripcion: "Mike, un trabajador de la construcción con los pies en la tierra, se ve inmerso en el mundo de los superespías y los agentes secretos cuando Roxanne, su novia del instituto, le recluta para una misión de los servicios de inteligencia estadounidenses.",
    imagen: "../assets/img/sindicato_p.jpg",
    video: "https://www.youtube.com/embed/oFDLwkL54jQ",
    youtube: "https://www.youtube.com/watch?v=oFDLwkL54jQ"
  },
  {
    titulo: "Estragos",
    genero: "Acción / Drama / Romance",
    duracion: "200 min",
    actores: [
      {
        nombre: "Tom Hardy",
        wiki: "https://es.wikipedia.org/wiki/Tom_Hardy"
      },
      {
        nombre: "Jessie Mei Li",
        wiki: "https://es.wikipedia.org/wiki/Jessie_Mei_Li"
      },
      {
        nombre: "Timothy Olyphant",
        wiki: "https://es.wikipedia.org/wiki/Timothy_Olyphant"
      },
      {
        nombre: "Forest Whitaker",
        wiki: "https://es.wikipedia.org/wiki/Forest_Whitaker"
      },
    ],
    actores2: "Bárbara de Regil, José María de Tavira, Antonio Gaona",
    descripcion: "Cuando un negocio de drogas sale mal, un hastiado policía se abre paso en el submundo criminal de una ciudad corrupta para salvar al hijo de un político.",
    imagen: "../assets/img/estragos.jpg",
    video: "https://www.youtube.com/embed/g1Po7unlsXY",
    youtube: "https://www.youtube.com/watch?v=g1Po7unlsXY"
  }
];

let pelicula = null;

function addDefault(peliculaDefault) {
  document.getElementById('titulo').textContent = peliculaDefault.titulo;
  document.getElementById('genero').textContent = peliculaDefault.genero;
  document.getElementById('actores').textContent = peliculaDefault.actores;
  document.getElementById('duracion').textContent = peliculaDefault.duracion;
  document.getElementById('descripcion').textContent = peliculaDefault.descripcion;
  document.getElementById("trailer").src = peliculaDefault.video;
  document.getElementById('comenzar').href = peliculaDefault.youtube;
}

function addImage(titulo) {
  const carrusel = document.getElementById("similaresCarrusel");
  carrusel.innerHTML = ''; // Limpiar contenido anterior
  peliculasSimilares
    .filter(peliculaFillter => peliculaFillter.titulo !== titulo)
      .forEach(peliculaFillter => {
        const img = document.createElement("img");
        img.src = peliculaFillter.imagen;
        img.alt = peliculaFillter.titulo;
        img.classList.add("imagenes");
        carrusel.appendChild(img);
    });
}

function addActors(actores) {
  const actoresContainer = document.getElementById("actores");
  actoresContainer.innerHTML = ""; // limpio contenido previo

  actores.forEach((actor, index) => {
    const a = document.createElement("a");
    a.href = actor.wiki;
    a.target = "_blank";
    a.textContent = actor.nombre;
    actoresContainer.appendChild(a);

    // Agrego coma y espacio excepto después del último actor
    if (index < actores.length - 1) {
      actoresContainer.appendChild(document.createTextNode(", "));
    }
  });

}

function addVideo(video) {
     const btn = document.getElementById('comenzar');
        btn.onclick = () => {
          window.open(video, '_blank'); // Abre en nueva pestaña
      };
}

function carruselMove() {
 const carrusel = document.getElementById("similaresCarrusel");
  const prev = document.querySelector(".carrusel-btn.prev");
  const next = document.querySelector(".carrusel-btn.next");
  const img = carrusel.querySelector(".imagenes");
  const scroll = img ? img.offsetWidth + 10 : 0; //img.offsetWidth tamanio de un imagen
  prev.addEventListener("click", () => {
    carrusel.scrollBy({ left: -scroll, behavior: "smooth" });
  });

  next.addEventListener("click", () => {
    carrusel.scrollBy({ left: scroll, behavior: "smooth" }); //  behavior: "smooth" la navegacion sea suave, con efecto
  });
}

function asignarEventosCarrusel() {
  const imagenes = document.querySelectorAll(".imagenes");
  imagenes.forEach((img) => {
    img.addEventListener("click", () => {
      pelicula = peliculasSimilares.find(imagen => imagen.titulo == img.alt);
      addDefault(pelicula);
      addActors(pelicula.actores);
      addVideo(pelicula.video);
      addImage(pelicula.titulo);
      asignarEventosCarrusel();
    });
  });
}



document.addEventListener("DOMContentLoaded", () => {
  pelicula = peliculasSimilares[0];
  addDefault(pelicula);
  addVideo(pelicula.video);
  addImage(pelicula.titulo);
  addActors(pelicula.actores);
  carruselMove();
  asignarEventosCarrusel();
});
